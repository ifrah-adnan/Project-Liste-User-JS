<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehension</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.min.css">
    <script src="users.js"></script>
    <style>
        /* #Back{
            font-size: 20px;
            position: absolute;
            top: 80%;
            left: 70%;
            display: none;
        } */
    </style>
</head>
<body>
    <div class="container">
        <h1> liste des users</h1>
        <table class="table-bordered table-striped  ">
            <thead>

                <tr>
                    <th > "    "</th>
                    <th class="sort" ondblclick="sortnom()">nom</th>
                    <th class="sort" ondblclick="sortprenom()">prenom</th>
                    <th class="sort" onclick="sortdate()">birthdate</th>

    
                </tr>
              
    

            </thead>
            <tbody>

            </tbody></table>
            <footer>
                    <button id="pagination" onclick="pagination()" >pagination</button>
            
            
            <button   id="back" onclick="back()" style="position: absolute; top: 80%;
            left: 70%; display: none;" >Back</button>



            </footer>
            <script> 
            // NumÃ©o de la page 
            var currentPage = 1
            // Taille de la page
            var pageSize = 10
            function pagination(){
                currentPage++;
                showUser();
            }
            function back(){
                currentPage--;
                
             if (currentPage > 1) {
                document.getElementById('back').style.display = 'block';
            } else {
                document.getElementById('back').style.display = 'none';
            }
                showUser();
            }
            
            
            showUser();
            function showUser(){
                let logo='';
                let firstShow='';

                let table= document.querySelector('tbody');


                    
                       

                        
                    
                    let startIndex=(currentPage - 1) * pageSize;
                    let endIndex=pageSize+startIndex;

              
                    
                    for (let i = startIndex; i <users.length && i<endIndex; i++)    { 
                        let img = users[i].image;
 
                          let nom= users[i].firstName;
                          let prenom =users[i].lastName;
                          let birthdate= users[i].birthDate;  
                          
                          firstShow+=`<tr>
      <td><img src="${img}" alt="Avatar" width="19" height="19""></td>
      <td>${nom}</td>
      <td>${prenom}</td>
      <td>${birthdate}</td>
    </tr>`;
            ;
             }    
              table.innerHTML=firstShow;

            
             if (currentPage > 1) {
                document.getElementById('back').style.display = 'block';
                document.getElementById('pagination').style.display='block';

            } else {
                document.getElementById('back').style.display = 'none';
            }
             if (endIndex>users.length) {
                document.getElementById('pagination').style.display='none';
                
             }   
             
             

            
                    }

            function sortnom(){
                users.sort(function(a,b){
                    let nom= a.firstName.toUpperCase();
                    let nom2= b.firstName.toUpperCase();
                if(nom>nom2){
                    return 1;
                }
                else if (nom<nom2){
                    return-1;
                }
                else{
                    return 0;
                }





                })
                
                showUser();


            }
            
            function sortprenom(){
                users.sort(function(a,b){
                    let prenom= a.lastName.toUpperCase();
                    let prenom2= b.lastName.toUpperCase();
                if(prenom>prenom2){
                    return 1;
                }
                else if (prenom<prenom2){
                    return-1;
                }
                else{
                    return 0;
                }





                })
                showUser();


            }
            function sortdate(){
                users.sort(function(a,b){
                    return  Date.parse(a.birthDate) -  Date.parse(b.birthDate);


                })
                showUser();
            }




                



                
            </script>



























    </div>


    
</body>
</html>